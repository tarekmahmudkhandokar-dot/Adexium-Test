<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>PP Coin - Tap & Earn</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://cdn.tgads.space/assets/js/adexium-widget.min.js"></script>

<style>
body{
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
    background:linear-gradient(135deg,#1e3c72,#2a5298);
    color:#fff;
    height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
}

/* USER INFO â€“ TOP LEFT */
#user-info{
    position:fixed;
    top:8px;
    left:10px;
    font-size:12px;
    opacity:0.85;
}

/* SCORE */
#score{
    margin-top:60px;
    font-size:4.5em;
    font-weight:bold;
    text-shadow:0 0 20px rgba(255,215,0,0.9);
}

/* TAP AREA CENTER */
#tap-area{
    flex:1;
    display:flex;
    align-items:center;
    justify-content:center;
}

#coin{
    width:220px;
    height:220px;
    border-radius:50%;
    background:radial-gradient(circle at 30% 30%,#ffd700,#ffaa00);
    box-shadow:0 15px 40px rgba(255,215,0,0.7), inset 0 -15px 30px rgba(0,0,0,0.5);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:6em;
    color:#1e3c72;
    user-select:none;
    transition:transform .1s;
}
#coin:active{transform:scale(0.9);}

/* FLOAT TEXT */
.float-text{
    position:absolute;
    font-size:2.5em;
    animation:floatUp 1.2s ease-out forwards;
}
@keyframes floatUp{
    from{opacity:1;transform:translateY(0);}
    to{opacity:0;transform:translateY(-120px);}
}

/* BUTTONS â€“ VERTICAL */
.buttons{
    width:100%;
    padding:20px;
    display:flex;
    flex-direction:column;
    gap:15px;
}
.btn{
    background:linear-gradient(45deg,#ff416c,#ff4b2b);
    border:none;
    border-radius:50px;
    padding:16px;
    font-size:1.1em;
    color:#fff;
}
</style>
</head>

<body>

<div id="user-info">
    <div>@<span id="username">...</span></div>
    <div>ID: <span id="user-id">...</span></div>
</div>

<div id="score">0</div>

<div id="tap-area">
    <div id="coin">ðŸª™</div>
</div>

<div class="buttons">
    <button class="btn" id="btn-interstitial">ðŸŽ¬ Show Ad</button>
    <button class="btn" id="btn-push">ðŸ”” Show Push Ad</button>
</div>

<script>
Telegram.WebApp.ready();
Telegram.WebApp.expand();

const user = Telegram.WebApp.initDataUnsafe.user || {};
document.getElementById('username').textContent = user.username || 'Guest';
document.getElementById('user-id').textContent = user.id || 'N/A';

let score = 0;
const scoreEl = document.getElementById('score');
const coin = document.getElementById('coin');

/* Adexium Widgets */
const interstitialWidget = new AdexiumWidget({
    wid:'994b631c-6659-4975-a09b-9bb3b4eb0290',
    adFormat:'interstitial'
});

const pushWidget = new AdexiumWidget({
    wid:'994b631c-6659-4975-a09b-9bb3b4eb0290',
    adFormat:'push-like'
});

function showAd(widget, format){
    widget.requestAd(format, ad=>{
        if(ad) widget.displayAd(ad);
    });
}

/* TAP */
coin.addEventListener('click',()=>{
    score++;
    scoreEl.textContent = score.toLocaleString();

    const ft = document.createElement('div');
    ft.className='float-text';
    ft.textContent='+1';
    ft.style.left='50%';
    ft.style.top='50%';
    document.body.appendChild(ft);
    setTimeout(()=>ft.remove(),1200);

    if(score % 5 === 0) showAd(interstitialWidget,'interstitial');
});

/* BUTTONS */
document.getElementById('btn-interstitial').onclick=()=>{
    showAd(interstitialWidget,'interstitial');
};

document.getElementById('btn-push').onclick=()=>{
    showAd(pushWidget,'push-like');
};
</script>

</body>
</html>